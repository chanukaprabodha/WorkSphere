<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>WorkSphere - Employee Dashboard</title>
    <!-- plugins:css -->
    <link
      rel="stylesheet"
      href="/assets/vendors/mdi/css/materialdesignicons.min.css"
    />
    <link
      rel="stylesheet"
      href="/assets/vendors/ti-icons/css/themify-icons.css"
    />
    <link rel="stylesheet" href="/assets/vendors/css/vendor.bundle.base.css" />
    <link
      rel="stylesheet"
      href="/assets/vendors/font-awesome/css/font-awesome.min.css"
    />
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <link
      rel="stylesheet"
      href="/assets/vendors/font-awesome/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.css"
    />
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="/assets/css/style.css" />
    <!-- End layout styles -->
    <link rel="shortcut icon" href="/assets/images/favicon.png" />
  </head>

  <body>
    <div class="container-scroller">
      <!-- partial:partials/_navbar.html -->
      <nav
        class="navbar default-layout-navbar col-lg-12 col-12 p-0 fixed-top d-flex flex-row"
      >
        <div
          class="text-center navbar-brand-wrapper d-flex align-items-center justify-content-start"
        >
          <a class="navbar-brand brand-logo object-fit-fill" href="index.html"
            ><img src="/assets/images/logo.png" alt="logo"
          /></a>
          <a class="navbar-brand brand-logo-mini" href="index.html"
            ><img src="/assets/images/brand_icons/mini logo.png" alt="logo"
          /></a>
        </div>
        <div class="navbar-menu-wrapper d-flex align-items-stretch">
          <button
            class="navbar-toggler navbar-toggler align-self-center"
            type="button"
            data-toggle="minimize"
          >
            <span class="mdi mdi-menu"></span>
          </button>
          <div class="search-field d-none d-md-block">
            <form class="d-flex align-items-center h-100" action="#">
              <div class="input-group">
                <div class="input-group-prepend bg-transparent">
                  <i class="input-group-text border-0 mdi mdi-magnify"></i>
                </div>
                <input
                  type="text"
                  class="form-control bg-transparent border-0"
                  placeholder="Search projects"
                />
              </div>
            </form>
          </div>
          <ul class="navbar-nav navbar-nav-right">
            <li class="nav-item nav-profile dropdown">
              <a
                class="nav-link dropdown-toggle"
                id="profileDropdown"
                href="#"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <div class="nav-profile-img">
                  <img id="employeeProfileImgNavBar" alt="profile" />
                  <span class="availability-status online"></span>
                </div>
              </a>
              <div
                class="dropdown-menu navbar-dropdown"
                aria-labelledby="profileDropdown"
              >
                <a class="dropdown-item" href="#">
                  <i class="mdi mdi-cached me-2 text-success"></i> Activity Log
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">
                  <i class="mdi mdi-logout me-2 text-primary"></i> Signout
                </a>
              </div>
            </li>
            <li class="nav-item d-none d-lg-block full-screen-link">
              <a class="nav-link">
                <i class="mdi mdi-fullscreen" id="fullscreen-button"></i>
              </a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link count-indicator dropdown-toggle"
                id="messageDropdown"
                href="#"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="mdi mdi-email-outline"></i>
                <span class="count-symbol bg-warning"></span>
              </a>
              <div
                class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list"
                aria-labelledby="messageDropdown"
              >
                <h6 class="p-3 mb-0">Messages</h6>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <img
                      src="/assets/images/faces/face4.jpg"
                      alt="image"
                      class="profile-pic"
                    />
                  </div>
                  <div
                    class="preview-item-content d-flex align-items-start flex-column justify-content-center"
                  >
                    <h6
                      class="preview-subject ellipsis mb-1 font-weight-normal"
                    >
                      Mark send you a message
                    </h6>
                    <p class="text-gray mb-0">1 Minutes ago</p>
                  </div>
                </a>
                <div class="dropdown-divider"></div>
                <h6 class="p-3 mb-0 text-center">4 new messages</h6>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link count-indicator dropdown-toggle"
                id="notificationDropdown"
                href="#"
                data-bs-toggle="dropdown"
              >
                <i class="mdi mdi-bell-outline"></i>
                <span class="count-symbol bg-danger"></span>
              </a>
              <div
                class="dropdown-menu dropdown-menu-end navbar-dropdown preview-list"
                aria-labelledby="notificationDropdown"
              >
                <h6 class="p-3 mb-0">Notifications</h6>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item preview-item">
                  <div class="preview-thumbnail">
                    <div class="preview-icon bg-success">
                      <i class="mdi mdi-calendar"></i>
                    </div>
                  </div>
                  <div
                    class="preview-item-content d-flex align-items-start flex-column justify-content-center"
                  >
                    <h6 class="preview-subject font-weight-normal mb-1">
                      Event today
                    </h6>
                    <p class="text-gray ellipsis mb-0">
                      Just a reminder that you have an event today
                    </p>
                  </div>
                </a>
                <div class="dropdown-divider"></div>
                <h6 class="p-3 mb-0 text-center">See all notifications</h6>
              </div>
            </li>
            <li class="nav-item nav-logout d-none d-lg-block">
              <a class="nav-link" href="#" onclick="logout(event)">
                <i class="mdi mdi-power"></i>
              </a>
            </li>
            <li class="nav-item nav-settings d-none d-lg-block">
              <a class="nav-link" href="#">
                <i class="mdi mdi-format-line-spacing"></i>
              </a>
            </li>
          </ul>
          <button
            class="navbar-toggler navbar-toggler-right d-lg-none align-self-center"
            type="button"
            data-toggle="offcanvas"
          >
            <span class="mdi mdi-menu"></span>
          </button>
        </div>
      </nav>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
        <nav class="sidebar sidebar-offcanvas" id="sidebar">
          <ul class="nav">
            <li class="nav-item nav-profile">
              <a href="#" class="nav-link">
                <div class="nav-profile-image">
                  <img id="employeeProfileImg" alt="profile" />
                  <span class="login-status online"></span>
                </div>
                <div class="nav-profile-text d-flex flex-column">
                  <span class="font-weight-bold mb-2" id="employeeName"></span>
                  <span
                    class="text-secondary text-small"
                    id="employeePosition"
                  ></span>
                </div>
                <i
                  class="mdi mdi-bookmark-check text-success nav-profile-badge"
                ></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-target="dashboardSection" href="#">
                <span class="menu-title">Dashboard</span>
                <i class="mdi mdi-home menu-icon"></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-target="attendanceSection" href="#">
                <span class="menu-title">Attendance</span>
                <i class="mdi mdi-format-list-bulleted menu-icon"></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-target="leaveSection" href="#">
                <span class="menu-title">Apply Leave</span>
                <i class="mdi mdi-chart-bar menu-icon"></i>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#payroll">
                <span class="menu-title">Payroll</span>
                <i class="mdi mdi-table-large menu-icon"></i>
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                data-bs-toggle="collapse"
                href="#documentation"
                aria-expanded="false"
                aria-controls="documentation"
              >
                <span class="menu-title">Documentation</span>
                <i class="menu-arrow"></i>
                <i class="mdi mdi-file-document-box menu-icon"></i>
              </a>
            </li>
          </ul>
        </nav>
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <!-- Dashboard -->
            <section id="dashboardSection">
              <div class="page-header">
                <h3 class="page-title">
                  <span
                    class="page-title-icon bg-gradient-primary text-white me-2"
                  >
                    <i class="mdi mdi-home"></i>
                  </span>
                  Employee Dashboard
                </h3>
              </div>
              <div class="row">
                <!-- Total Attendance -->
                <div class="col-md-4 stretch-card grid-margin">
                  <div
                    class="card bg-gradient-danger card-img-holder text-white"
                  >
                    <div class="card-body">
                      <img
                        src="/assets/images/dashboard/circle.svg"
                        class="card-img-absolute"
                        alt="circle-image"
                      />
                      <h4 class="font-weight-normal mb-3">
                        Total Attendance
                        <i
                          class="mdi mdi-calendar-check mdi-24px float-end"
                        ></i>
                      </h4>
                      <h2 class="mb-5" id="totalAttendance"></h2>
                      <h6 class="card-text" id="attendanceSummaryText"></h6>
                    </div>
                  </div>
                </div>
                <!-- Leave Balance -->
                <div class="col-md-4 stretch-card grid-margin">
                  <div class="card bg-gradient-info card-img-holder text-white">
                    <div class="card-body">
                      <img
                        src="/assets/images/dashboard/circle.svg"
                        class="card-img-absolute"
                        alt="circle-image"
                      />
                      <h4 class="font-weight-normal mb-3">
                        Leave Balance
                        <i
                          class="mdi mdi-calendar-remove mdi-24px float-end"
                        ></i>
                      </h4>
                      <h2 class="mb-5" id="leaveBalance"></h2>
                      <h6 class="card-text">Available Leaves</h6>
                    </div>
                  </div>
                </div>
                <!-- Salary -->
                <div class="col-md-4 stretch-card grid-margin">
                  <div
                    class="card bg-gradient-success card-img-holder text-white"
                  >
                    <div class="card-body">
                      <img
                        src="/assets/images/dashboard/circle.svg"
                        class="card-img-absolute"
                        alt="circle-image"
                      />
                      <h4 class="font-weight-normal mb-3">
                        Total Salary
                        <i class="mdi mdi-cash mdi-24px float-end"></i>
                      </h4>
                      <h2 class="mb-5">$ 4,500</h2>
                      <h6 class="card-text">March 2024</h6>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <!-- left side -->
                <div class="col-md-6">
                  <!-- Attendance Section -->
                  <div class="row" id="attendance">
                    <div class="col-12 grid-margin stretch-card">
                      <div class="card">
                        <div class="card-body">
                          <h4 class="card-title">Attendance</h4>
                          <div
                            class="attendance-toggle text-center mt-4 mb-4 d-flex align-content-center justify-content-center"
                          >
                            <!-- On Button (Only visible when attendance is off) -->
                            <button
                              id="clockInBtn"
                              class="btn btn-success btn-lg w-50 py-3 attendance-on"
                            >
                              <i class="mdi mdi-clock-start me-2"></i>Clock In
                            </button>

                            <!-- Off Button (Only visible when attendance is on) -->
                            <button
                              id="clockOutBtn"
                              class="btn btn-danger btn-lg w-50 py-3 attendance-off align-content-center"
                            >
                              <i class="mdi mdi-clock-end me-2"></i>Clock Out
                            </button>
                          </div>

                          <!-- Current Status Display -->
                          <div class="attendance-status text-center mb-4">
                            <div
                              id="onStatusBadge"
                              class="badge bg-success py-2 px-3 attendance-on"
                            >
                              <i class="mdi mdi-check-circle me-2"></i>
                            </div>
                            <div
                              id="offStatusBadge"
                              class="badge bg-secondary py-2 px-3 attendance-off"
                            >
                              <i class="mdi mdi-clock-outline me-2"></i>
                            </div>
                          </div>
                          <div class="table-responsive">
                            <table class="table table-hover">
                              <thead>
                                <tr>
                                  <th>Date</th>
                                  <th>Status</th>
                                  <th>Check-in</th>
                                  <th>Check-out</th>
                                  <th>TotalHours</th>
                                </tr>
                              </thead>
                              <tbody id="attendanceTable"></tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Payroll Section -->
                  <div class="row" id="payroll">
                    <div class="col-12 grid-margin stretch-card">
                      <div class="card">
                        <div class="card-body">
                          <h4 class="card-title">Salary Breakdown</h4>
                          <div class="table-responsive">
                            <table class="table">
                              <thead>
                                <tr>
                                  <th>Earnings</th>
                                  <th>Amount</th>
                                  <th>Deductions</th>
                                  <th>Amount</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <td>Basic Salary</td>
                                  <td>$ 3,500</td>
                                  <td>Professional Tax</td>
                                  <td>$ 200</td>
                                </tr>
                                <tr>
                                  <td>House Rent Allowance</td>
                                  <td>$ 700</td>
                                  <td>Provident Fund</td>
                                  <td>$ 420</td>
                                </tr>
                                <tr>
                                  <td>Conveyance Allowance</td>
                                  <td>$ 300</td>
                                  <td>Income Tax</td>
                                  <td>$ 380</td>
                                </tr>
                                <tr>
                                  <td><strong>Total Earnings</strong></td>
                                  <td><strong>$ 4,500</strong></td>
                                  <td><strong>Total Deductions</strong></td>
                                  <td><strong>$ 1,000</strong></td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="mt-3">
                            <button class="btn btn-success">
                              <i class="mdi mdi-download me-2"></i>Download
                              Payslip
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- vision-mission Section -->
                  <div class="row" id="vision-mission">
                    <div class="col-12 grid-margin stretch-card">
                      <div class="card">
                        <div class="card-body">
                          <h4 class="card-title fw-medium mb-4">
                            Our Vision & Mission
                          </h4>
                          <div class="row">
                            <div class="col-md-6 mb-3">
                              <div class="border-bottom pb-3 mb-3">
                                <h5 class="text-primary">
                                  <i class="mdi mdi-eye me-2"></i>Our Vision
                                </h5>
                                <p class="text-muted">
                                  To be the global leader in innovative
                                  technology solutions, empowering businesses to
                                  transform and thrive in the digital era.
                                </p>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="border-bottom pb-3 mb-3">
                                <h5 class="text-success">
                                  <i class="mdi mdi-target me-2"></i>Our Mission
                                </h5>
                                <p class="text-muted">
                                  Deliver cutting-edge technology solutions that
                                  drive operational excellence, foster
                                  innovation, and create sustainable value for
                                  our clients, employees, and communities.
                                </p>
                              </div>
                            </div>
                          </div>
                          <div class="text-center">
                            <button class="btn btn-inverse-success">
                              <i class="mdi mdi-information-outline me-2"></i
                              >Learn More About Us
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Employee Directory Section -->
                  <div class="row" id="employee-directory">
                    <div class="col-12 grid-margin stretch-card">
                      <div class="card">
                        <div class="card-body">
                          <h4 class="card-title fw-medium mb-4">
                            Employee Directory
                          </h4>

                          <!-- Search Bar -->
                          <div class="input-group mb-4">
                            <span class="input-group-text">
                              <i class="mdi mdi-magnify"></i>
                            </span>
                            <input
                              type="text"
                              class="form-control border-1 border-secondary"
                              placeholder="Search employees by name, department, or role..."
                              id="employeeSearch"
                            />
                            <button
                              class="btn btn-inverse-success"
                              type="button"
                              id="employee-search-btn"
                            >
                              <i class="mdi mdi-account-search me-2"></i>Search
                            </button>
                          </div>
                          <!-- Employee Search Results -->
                          <div
                            id="employeeSearchResults"
                            class="mb-4"
                            style="display: none"
                          >
                            <h5 class="text-muted mb-3">Search Results</h5>
                            <div class="row" id="employeeCards">
                              <!-- Employee card template -->
                              <!-- End of employee card template -->
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- right side -->
                <div class="col-md-6">
                  <!-- Birthdays Section -->
                  <div class="row" id="birthdays">
                    <div class="col-12 grid-margin stretch-card" id="birthdays">
                      <div class="card">
                        <div class="card-body">
                          <h4 class="card-title fw-medium mb-4">
                            Upcoming Birthdays
                          </h4>
                          <div class="list-group"></div>
                          <div class="mt-3 text-center">
                            <button
                              class="btn btn-inverse-success"
                              data-bs-toggle="modal"
                              data-bs-target="#birthdayModal"
                              onclick="loadAllBirthdays()"
                            >
                              <i class="mdi mdi-cake me-2"></i>View All
                              Birthdays
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Modal for All Birthdays -->
                    <div
                      class="modal fade"
                      id="birthdayModal"
                      tabindex="-1"
                      aria-labelledby="birthdayModalLabel"
                      aria-hidden="true"
                    >
                      <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="birthdayModalLabel">
                              All Employee Birthdays
                            </h5>
                            <button
                              type="button"
                              class="btn-close"
                              data-bs-dismiss="modal"
                              aria-label="Close"
                            ></button>
                          </div>
                          <div class="modal-body">
                            <ul class="list-group" id="allBirthdaysList">
                              <!-- Filled dynamically -->
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Leave Management Section -->
                  <div class="row" id="leave">
                    <div class="col-12 grid-margin stretch-card">
                      <div class="card">
                        <div class="card-body">
                          <div
                            class="d-flex justify-content-between align-items-center mb-4"
                          >
                            <h4 class="card-title">Absences</h4>
                            <button
                              id="leavePageBtn"
                              class="btn btn-inverse-success btn-sm"
                              data-target="leaveSection"
                            >
                              <i class="mdi mdi-calendar-check me-2"></i>Leave
                              Page
                            </button>
                          </div>
                          <label class="form-label" style="font-size: 14px"
                            >I am on Leave</label
                          >
                          <div
                            class="btn-group w-100 d-flex justify-content-center align-content-between column-gap-3"
                          >
                            <button
                              type="submit"
                              class="btn btn-inverse-success btn-fw"
                              onclick="leaveToday(event)"
                            >
                              Today
                            </button>
                            <button
                              type="submit"
                              class="btn btn-inverse-success btn-fw"
                              onclick="leaveTomorrow(event)"
                            >
                              Tomorrow
                            </button>
                          </div>
                          <form>
                            <div class="form-group row my-3">
                              <div class="col-md-6 mb-3 mt-2">
                                <label class="form-label">Leave Type</label>
                                <select
                                  id="leaveTypeDashboard"
                                  class="form-select"
                                  style="border: 1px solid"
                                ></select>
                              </div>
                              <div class="row">
                                <div class="col-sm-6 my-2">
                                  <div class="input-group mb-2">
                                    <span
                                      class="input-group-text btn-inverse-success"
                                      >From</span
                                    >
                                    <input
                                      id="fromDateDashboard"
                                      type="date"
                                      class="form-control border-1 border-secondary"
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-6 my-2">
                                  <div class="input-group">
                                    <input
                                      id="toDateDashboard"
                                      type="date"
                                      class="form-control border-1 border-secondary"
                                    />
                                    <span
                                      class="input-group-text btn-inverse-success"
                                      >To</span
                                    >
                                  </div>
                                </div>
                              </div>
                            </div>
                            <button
                              type="submit"
                              class="btn btn-inverse-success"
                              onclick="sendLeaveRequestDashboard(event)"
                            >
                              <i class="fa fa-thumbs-o-up me-3"></i>Send Request
                            </button>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- Announcements Section -->
                  <div class="row" id="announcements">
                    <div class="col-12 grid-margin stretch-card">
                      <div class="card">
                        <div class="card-body">
                          <h4 class="card-title fw-medium mb-4">
                            Announcements
                          </h4>
                          <div class="list-group">
                            <a
                              href="#"
                              class="list-group-item list-group-item-action"
                            >
                              <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Annual Team Building Event</h5>
                                <small class="text-muted">2 days ago</small>
                              </div>
                              <p class="mb-1">
                                Join us for our upcoming team building retreat
                                on April 15th-16th. Details to follow soon!
                              </p>
                            </a>
                            <a
                              href="#"
                              class="list-group-item list-group-item-action"
                            >
                              <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">Performance Review Period</h5>
                                <small class="text-muted">1 week ago</small>
                              </div>
                              <p class="mb-1">
                                Annual performance reviews will begin next
                                month. Please prepare your self-assessment
                                documents.
                              </p>
                            </a>
                            <a
                              href="#"
                              class="list-group-item list-group-item-action"
                            >
                              <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">New Benefits Program</h5>
                                <small class="text-muted">2 weeks ago</small>
                              </div>
                              <p class="mb-1">
                                We're excited to announce expanded health and
                                wellness benefits for all employees.
                              </p>
                            </a>
                          </div>
                          <div class="mt-3 text-center">
                            <button class="btn btn-inverse-success">
                              <i class="mdi mdi-bell-ring me-2"></i>View All
                              Announcements
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Attendance -->
            <section id="attendanceSection" style="display: none">
              <div class="page-header">
                <h3 class="page-title">
                  <span
                    class="page-title-icon bg-gradient-primary text-white me-2"
                  >
                    <i class="mdi mdi-format-list-bulleted"></i>
                  </span>
                  Attendance
                </h3>
              </div>

              <!-- Attendance content -->
              <div class="row">
                <div class="col-12">
                  <div class="card">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-center mb-4"
                      >
                        <h4 class="card-title">Attendance Records</h4>
                        <div>
                          <button
                            id="todayBtn"
                            class="btn btn-inverse-primary me-2"
                          >
                            <i class="mdi mdi-calendar-today me-1"></i>Today
                          </button>
                          <button
                            id="weekBtn"
                            class="btn btn-inverse-primary me-2"
                          >
                            <i class="mdi mdi-calendar-week me-1"></i>This Week
                          </button>
                          <button id="monthBtn" class="btn btn-inverse-primary">
                            <i class="mdi mdi-calendar-month me-1"></i>This
                            Month
                          </button>
                        </div>
                      </div>

                      <!-- Date Range Selector -->
                      <div class="row mb-4">
                        <div class="col-md-5">
                          <div class="input-group">
                            <span class="input-group-text"
                              ><i class="fa fa-calendar"></i
                            ></span>
                            <input
                              type="date"
                              id="startDate"
                              class="form-control"
                            />
                            <span class="input-group-text">to</span>
                            <input
                              type="date"
                              id="endDate"
                              class="form-control"
                            />
                          </div>
                        </div>
                        <div class="col-md-3">
                          <button
                            id="applyDateRange"
                            class="btn btn-gradient-primary"
                          >
                            <i class="mdi mdi-filter me-1"></i>Apply Filter
                          </button>
                        </div>
                        <div class="col-md-4">
                          <div class="input-group">
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Search..."
                            />
                            <button
                              class="btn btn-outline-secondary"
                              type="button"
                            >
                              <i class="mdi mdi-magnify"></i>
                            </button>
                          </div>
                        </div>
                      </div>

                      <!-- Attendance Summary -->
                      <div class="row mb-4">
                        <div class="col-md-3">
                          <div class="card bg-success text-white">
                            <div class="card-body p-3">
                              <div
                                class="d-flex justify-content-between align-items-center"
                              >
                                <div>
                                  <h6 class="mb-0">Present Days</h6>
                                  <h3 class="mt-2 mb-0" id="presentDays"></h3>
                                </div>
                                <i class="mdi mdi-check-circle mdi-36px"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="card bg-danger text-white">
                            <div class="card-body p-3">
                              <div
                                class="d-flex justify-content-between align-items-center"
                              >
                                <div>
                                  <h6 class="mb-0">Absent Days</h6>
                                  <h3 class="mt-2 mb-0" id="absentDays"></h3>
                                </div>
                                <i class="mdi mdi-close-circle mdi-36px"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="card bg-info text-white">
                            <div class="card-body p-3">
                              <div
                                class="d-flex justify-content-between align-items-center"
                              >
                                <div>
                                  <h6 class="mb-0">Total Hours</h6>
                                  <h3 class="mt-2 mb-0" id="totalHours"></h3>
                                </div>
                                <i class="mdi mdi-clock-outline mdi-36px"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-3">
                          <div class="card bg-warning text-white">
                            <div class="card-body p-3">
                              <div
                                class="d-flex justify-content-between align-items-center"
                              >
                                <div>
                                  <h6 class="mb-0">Avg. Working Hours</h6>
                                  <h3 class="mt-2 mb-0" id="avgHours"></h3>
                                </div>
                                <i
                                  class="mdi mdi-chart-timeline-variant mdi-36px"
                                ></i>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Attendance Table -->
                      <div class="table-responsive">
                        <table class="table table-hover" id="attendanceTable">
                          <thead>
                            <tr>
                              <th>Date</th>
                              <th>Day</th>
                              <th>Status</th>
                              <th>Check-in</th>
                              <th>Check-out</th>
                            </tr>
                          </thead>
                          <tbody id="attendanceSectionTable"></tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- Leave -->
            <section id="leaveSection" style="display: none">
              <div class="page-header">
                <h3 class="page-title">
                  <span
                    class="page-title-icon bg-gradient-primary text-white me-2"
                  >
                    <i class="mdi mdi-calendar-clock"></i>
                  </span>
                  Apply Leave
                </h3>
              </div>

              <div class="row">
                <!-- Leave Summary Card -->
                <div class="col-md-4 stretch-card grid-margin">
                  <div
                    class="card bg-gradient-danger card-img-holder text-white"
                  >
                    <div class="card-body">
                      <img
                        src="/assets/images/dashboard/circle.svg"
                        class="card-img-absolute"
                        alt="circle-image"
                      />
                      <h4 class="font-weight-normal mb-3">
                        Total Leave
                        <i
                          class="mdi mdi-calendar-check mdi-24px float-end"
                        ></i>
                      </h4>
                      <h2 class="mb-5" id="totalLeaveCount"></h2>
                      <h6 class="card-text">Total Entitlement</h6>
                    </div>
                  </div>
                </div>
                <!-- Leave Used Card -->
                <div class="col-md-4 stretch-card grid-margin">
                  <div class="card bg-gradient-info card-img-holder text-white">
                    <div class="card-body">
                      <img
                        src="/assets/images/dashboard/circle.svg"
                        class="card-img-absolute"
                        alt="circle-image"
                      />
                      <h4 class="font-weight-normal mb-3">
                        Leave Used
                        <i
                          class="mdi mdi-calendar-remove mdi-24px float-end"
                        ></i>
                      </h4>
                      <h2 class="mb-5" id="leaveUsedCount"></h2>
                      <h6 class="card-text">Used This Year</h6>
                    </div>
                  </div>
                </div>
                <!-- Leave Balance Card -->
                <div class="col-md-4 stretch-card grid-margin">
                  <div
                    class="card bg-gradient-success card-img-holder text-white"
                  >
                    <div class="card-body">
                      <img
                        src="/assets/images/dashboard/circle.svg"
                        class="card-img-absolute"
                        alt="circle-image"
                      />
                      <h4 class="font-weight-normal mb-3">
                        Leave Balance
                        <i
                          class="mdi mdi-calendar-blank mdi-24px float-end"
                        ></i>
                      </h4>
                      <h2 class="mb-5" id="leaveBalanceCount"></h2>
                      <h6 class="card-text">Available Leaves</h6>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <!-- Left Column -->
                <div class="col-md-6 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title">Apply for Leave</h4>
                      <p class="card-description">
                        Fill in the details to submit your leave request
                      </p>
                      <form class="forms-sample">
                        <div class="form-group">
                          <label class="form-label">Leave Type</label>
                          <select
                            id="leaveType"
                            class="form-select border-1 border-secondary"
                          ></select>
                        </div>
                        <div class="form-group">
                          <label>Date Range</label>
                          <div class="row">
                            <div class="col-sm-6">
                              <div class="input-group mb-2">
                                <span
                                  class="input-group-text btn-inverse-success"
                                  >From</span
                                >
                                <input
                                  id="fromDate"
                                  type="date"
                                  class="form-control border-1 border-secondary"
                                />
                              </div>
                            </div>
                            <div class="col-sm-6">
                              <div class="input-group">
                                <input
                                  id="toDate"
                                  type="date"
                                  class="form-control border-1 border-secondary"
                                />
                                <span
                                  class="input-group-text btn-inverse-success"
                                  >To</span
                                >
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="leaveReason">Reason for Leave</label>
                          <textarea
                            class="form-control border-1 border-secondary"
                            id="leaveReason"
                            rows="4"
                            placeholder="Please provide details about your leave request..."
                          ></textarea>
                        </div>
                        <button
                          type="submit"
                          onclick="sendLeaveRequest(event)"
                          class="btn btn-gradient-success me-2"
                        >
                          <i class="mdi mdi-check-circle me-2"></i>Submit
                          Request
                        </button>
                      </form>
                    </div>
                  </div>
                </div>

                <!-- Right Column -->
                <div class="col-md-6 grid-margin">
                  <!-- Leave Balance Details -->
                  <div class="card mb-4">
                    <div class="card-body">
                      <h4 class="card-title">Leave Balance Details</h4>
                      <div class="table-responsive">
                        <table class="table table-hover">
                          <thead>
                            <tr>
                              <th>Leave Type</th>
                              <th>Total</th>
                              <th>Used</th>
                              <th>Balance</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>Casual Leave</td>
                              <td id="casualTotal"></td>
                              <td id="casualUsed"></td>
                              <td>
                                <span
                                  class="badge badge-gradient-success"
                                  id="casualBalance"
                                ></span>
                              </td>
                            </tr>
                            <tr>
                              <td>Sick Leave</td>
                              <td id="sickTotal">5</td>
                              <td id="sickUsed">1</td>
                              <td>
                                <span
                                  class="badge badge-gradient-success"
                                  id="sickBalance"
                                ></span>
                              </td>
                            </tr>
                            <tr>
                              <td>Annual Leave</td>
                              <td id="annualTotal"></td>
                              <td id="annualUsed"></td>
                              <td>
                                <span
                                  class="badge badge-gradient-success"
                                  id="annualBalance"
                                ></span>
                              </td>
                            </tr>
                            <tr>
                              <td><strong>Total</strong></td>
                              <td><strong id="totalTotal"></strong></td>
                              <td><strong id="totalUsed"></strong></td>
                              <td>
                                <strong
                                  ><span
                                    class="badge badge-gradient-info"
                                    id="totalBalance"
                                  ></span
                                ></strong>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>

                  <!-- Pending Leave Requests -->
                  <div class="card">
                    <div class="card-body">
                      <h4 class="card-title">Leave Request History</h4>
                      <div class="table-responsive">
                        <table class="table table-hover">
                          <thead>
                            <tr>
                              <th>Date Applied</th>
                              <th>Leave Type</th>
                              <th>From</th>
                              <th>To</th>
                              <th>Status</th>
                            </tr>
                          </thead>
                          <tbody id="recentLeaveTable"></tbody>
                        </table>
                      </div>
                      <div class="mt-3 text-center">
                        <button
                          class="btn btn-inverse-success"
                          data-bs-toggle="modal"
                          data-bs-target="#leaveHistoryModal"
                        >
                          <i class="mdi mdi-history me-2"></i>View Full History
                        </button>
                      </div>

                      <!-- Leave History Modal -->
                      <div
                        class="modal fade"
                        id="leaveHistoryModal"
                        tabindex="-1"
                        aria-labelledby="leaveHistoryModalLabel"
                        aria-hidden="true"
                      >
                        <div
                          class="modal-dialog modal-xl modal-dialog-scrollable"
                        >
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5
                                class="modal-title"
                                id="leaveHistoryModalLabel"
                              >
                                Leave History
                              </h5>
                              <button
                                type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"
                              ></button>
                            </div>
                            <div class="modal-body">
                              <div class="table-responsive">
                                <table class="table table-striped">
                                  <thead>
                                    <tr>
                                      <th>Date Applied</th>
                                      <th>Leave Type</th>
                                      <th>From</th>
                                      <th>To</th>
                                      <th>Reason</th>
                                      <th>Status</th>
                                    </tr>
                                  </thead>
                                  <tbody id="leaveHistoryTable"></tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Leave Policy Section -->
              <div class="row">
                <div class="col-12 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      ass
                      <h4 class="card-title">Leave Policy Highlights</h4>
                      <div class="row mt-3">
                        <div class="col-md-6">
                          <div class="d-flex align-items-start mb-4">
                            <i
                              class="mdi mdi-information-outline text-primary me-3"
                              style="font-size: 24px"
                            ></i>
                            <div>
                              <h5 class="mt-0">Application Timeline</h5>
                              <p class="text-muted">
                                Leave requests must be submitted at least 3
                                working days in advance for planned leaves.
                                Emergency leaves can be applied for on the same
                                day but require manager approval.
                              </p>
                            </div>
                          </div>
                          <div class="d-flex align-items-start">
                            <i
                              class="mdi mdi-alert-circle-outline text-warning me-3"
                              style="font-size: 24px"
                            ></i>
                            <div>
                              <h5 class="mt-0">Leave Cancellation</h5>
                              <p class="text-muted">
                                Approved leaves can be cancelled up to 24 hours
                                before the leave date. Cancelled leaves will be
                                credited back to your leave balance.
                              </p>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="d-flex align-items-start mb-4">
                            <i
                              class="mdi mdi-file-document-outline text-success me-3"
                              style="font-size: 24px"
                            ></i>
                            <div>
                              <h5 class="mt-0">Supporting Documents</h5>
                              <p class="text-muted">
                                Medical certificates are required for sick
                                leaves exceeding 2 consecutive days. All
                                documents must be submitted within 3 days of
                                returning to work.
                              </p>
                            </div>
                          </div>
                          <div class="d-flex align-items-start">
                            <i
                              class="mdi mdi-calendar-clock text-info me-3"
                              style="font-size: 24px"
                            ></i>
                            <div>
                              <h5 class="mt-0">Leave Accrual</h5>
                              <p class="text-muted">
                                Annual leaves accrue monthly and can be carried
                                forward to the next year (max 5 days). Unused
                                sick leaves expire at the end of the calendar
                                year.
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="text-center mt-4">
                        <button class="btn btn-gradient-primary">
                          <i class="mdi mdi-file-pdf-box me-2"></i>Download
                          Complete Leave Policy
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Company Holidays -->
              <div class="row">
                <div class="col-12 grid-margin stretch-card">
                  <div class="card">
                    <div class="card-body">
                      <div
                        class="d-flex justify-content-between align-items-center mb-4"
                      >
                        <h4 class="card-title mb-0">Company Holidays (2024)</h4>
                        <button class="btn btn-inverse-primary btn-sm">
                          <i class="mdi mdi-calendar me-1"></i>Add to Calendar
                        </button>
                      </div>
                      <div class="row">
                        <div class="col-md-4 mb-3">
                          <div class="card border-0 shadow-sm">
                            <div class="card-body p-3">
                              <div class="d-flex align-items-center">
                                <div class="holiday-date me-3 text-center">
                                  <h4 class="text-danger mb-0">1</h4>
                                  <small class="text-muted">Jan</small>
                                </div>
                                <div>
                                  <h6 class="mb-1">New Year's Day</h6>
                                  <small class="text-muted">Monday</small>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <div class="card border-0 shadow-sm">
                            <div class="card-body p-3">
                              <div class="d-flex align-items-center">
                                <div class="holiday-date me-3 text-center">
                                  <h4 class="text-danger mb-0">15</h4>
                                  <small class="text-muted">Apr</small>
                                </div>
                                <div>
                                  <h6 class="mb-1">Spring Festival</h6>
                                  <small class="text-muted">Monday</small>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <div class="card border-0 shadow-sm">
                            <div class="card-body p-3">
                              <div class="d-flex align-items-center">
                                <div class="holiday-date me-3 text-center">
                                  <h4 class="text-danger mb-0">27</h4>
                                  <small class="text-muted">May</small>
                                </div>
                                <div>
                                  <h6 class="mb-1">Memorial Day</h6>
                                  <small class="text-muted">Monday</small>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <div class="card border-0 shadow-sm">
                            <div class="card-body p-3">
                              <div class="d-flex align-items-center">
                                <div class="holiday-date me-3 text-center">
                                  <h4 class="text-danger mb-0">4</h4>
                                  <small class="text-muted">Jul</small>
                                </div>
                                <div>
                                  <h6 class="mb-1">Independence Day</h6>
                                  <small class="text-muted">Thursday</small>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <div class="card border-0 shadow-sm">
                            <div class="card-body p-3">
                              <div class="d-flex align-items-center">
                                <div class="holiday-date me-3 text-center">
                                  <h4 class="text-danger mb-0">2</h4>
                                  <small class="text-muted">Sep</small>
                                </div>
                                <div>
                                  <h6 class="mb-1">Labor Day</h6>
                                  <small class="text-muted">Monday</small>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4 mb-3">
                          <div class="card border-0 shadow-sm">
                            <div class="card-body p-3">
                              <div class="d-flex align-items-center">
                                <div class="holiday-date me-3 text-center">
                                  <h4 class="text-danger mb-0">25</h4>
                                  <small class="text-muted">Dec</small>
                                </div>
                                <div>
                                  <h6 class="mb-1">Christmas Day</h6>
                                  <small class="text-muted">Wednesday</small>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>

          <!-- Alert Toast -->
          <div
            id="alertContainer"
            class="position-fixed bottom-0 end-0 my-2 mx-3 z-3"
          >
            <div id="alertTemplate">
              <div class="alert alert-dismissible fade show" role="alert">
                <span class="alert-message"></span>
              </div>
            </div>
          </div>

          <!-- Footer -->
          <footer class="footer">
            <div
              class="d-sm-flex justify-content-center justify-content-center"
            >
              <span
                class="text-muted text-center text-sm-left d-block d-sm-inline-block"
              >
                Copyright © 2025
                <a href="https://www.bootstrapdash.com/" target="_blank"
                  >WorkSphere Inc</a
                >. All rights reserved.
              </span>
            </div>
          </footer>
        </div>
      </div>
    </div>

    <!-- plugins:js -->
    <script src="/assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script src="/assets/vendors/chart.js/chart.umd.js"></script>
    <script src="/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="/assets/js/off-canvas.js"></script>
    <script src="/assets/js/misc.js"></script>
    <script src="/assets/js/settings.js"></script>
    <script src="/assets/js/todolist.js"></script>
    <script src="/assets/js/jquery.cookie.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page -->
    <script src="/assets/js/dashboard.js"></script>
    <script src="/js/user-dashboard.js"></script>
    <script src="/js/attendance.js"></script>
    <script src="/js/leave.js"></script>
    <!-- End custom js for this page -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        function showSectionById(id) {
          // Hide all sections
          document.querySelectorAll("section").forEach((section) => {
            section.style.display = "none";
          });

          // Show the target section by ID
          let targetSection = document.getElementById(id);
          if (targetSection) {
            targetSection.style.display = "block";
            window.scrollTo({ top: 0, behavior: "smooth" });
          } else {
            console.error("Section not found:", id);
          }
        }

        // Get the hash from the URL and remove the '#' symbol
        const initialHash = window.location.hash.substring(1);

        // If there's a hash, show the corresponding section, otherwise show the default section
        if (initialHash) {
          showSectionById(initialHash);
        } else {
          showSectionById("dashboardSection"); // Default section
        }

        // Handle navigation links
        document
          .querySelectorAll(".nav-link, #leavePageBtn")
          .forEach((link) => {
            link.addEventListener("click", function (event) {
              event.preventDefault(); // Prevent default link behavior

              let targetId = this.getAttribute("data-target");

              // Set the hash in the URL and trigger the section change
              if (targetId) {
                window.location.hash = targetId;
                showSectionById(targetId);
              }
            });
          });
      });
    </script>
  </body>
</html>
